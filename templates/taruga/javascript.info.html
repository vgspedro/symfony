<script src="{{ asset('js/jquery-2.1.1.min.js') }}"></script>
<script src="{{ asset('js/jquery.nanogallery2.min.js') }}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script type='text/javascript' src="{{ asset('js/unitegallery.min.js') }}"></script>
<script src="{{ asset('js/ug-theme-video.js') }}" type='text/javascript'></script>

<script>

$("#gallery").unitegallery({
  gallery_theme: "video",
  theme_autoplay: false,        //autoplay videos at start.  true / false. Don't working on mobiles.
  theme_disable_panel_timeout:2500  //How much time the right panel will be disabled. in ms
})

window.addEventListener("load", function(){
  window.cookieconsent.initialise({
    "palette": {
      "popup":{"background":"rgba(214,209,156,0.85)","text":"#333"},
      "button":{"background":"#3f51b5","text":"#FFF"}},
      "content": {"message": "{% trans %}cookies.txt{% endtrans %}", 
      "dismiss": "{% trans %}cookies.btn{% endtrans %}",
      "link": "{% trans %}cookies.link{% endtrans %}",
      "href": "https://cookiesandyou.com/"
    }
  })
})

session_local = '{{locale}}'

{%if app.session.get('_locale') %}
  session_local = '{{app.session.get('_locale').name}}'
{% endif %}

session_local != 'pt_PT' ? languages(session_local) : false//languages('{{locale}}')

function languages(local){

  $("#myOverlay, #loader-cont").show()
  $.ajax({
    type: "POST",
    url :'{{ path('index_translate') }}',
    data:'lang='+local,
    cache:false,
    dataType:'json',
    success: function(data) {

      data = data.data
      $(".ONDEESTAMOS").html(data.link.where_we_are)
      $(".AEQUIPA").html(data.link.the_team)
      $(".PRECOS").html(data.link.price)
      $(".HORARIO").html(data.link.schedule)
      $(".CONTATOS").html(data.link.contact)
      $(".RESERVAS").html(data.link.booking)
      $(".KAYAKS").html(data.link.kayak)

      $(".INTRO").html(data.part_one.intro)
      $(".LOCAL").html(data.part_one.local)
      $(".FIND_US").attr('title',data.part_one.find_us)
      $(".TICKET_SHOP").html(data.part_one.ticket_shop)

      $(".IMPORTANTINFO").html(data.part_two.important_info)
      $(".RESERVAS").html(data.part_two.booking)
      $(".RESERVAS_TXT").html(data.part_two.booking_txt)
      $(".LUMINOSIDADE").html(data.part_two.light)
      $(".LUMINOSIDADE_TXT").html(data.part_two.light_txt)
      $(".ESTACIONAMENTO").html(data.part_two.parking)
      $(".ESTACIONAMENTO_TXT").html(data.part_two.parking_txt)
      $(".PARAAVISITA").html(data.part_two.what_to_take)
      $(".PARAAVISITA_TXT").html(data.part_two.what_to_take_txt)
      $(".MARES").html(data.part_two.ties)
      $(".MARES_TXT").html(data.part_two.ties_txt)
      $(".ATENCAO").html(data.part_two.attention).text(data.part_two.attention)
      $(".ATENCAO_TXT").html(data.part_two.attention_txt)
      $(".VERIFIQUE").html(data.part_two.check)
      $(".DATES_RED_TXT").html(data.part_two.no_bookings_txt)

      $(".ADULTO").html(data.part_tree.adult)
      $(".CRIANCA").html(data.part_tree.children)
      $(".DURACAOPASSEIO").html(data.part_tree.duration)

      $(".KAYAK_TXT_INTRO").html(data.part_four.kayak_txt)
      $(".KAYAK_INFO").html(data.part_four.kayak_txt_i_info)
      $(".KAYAK_CONDITIONS").html(data.part_four.kayak_txt_conditions)
      $(".KAYAK_SCHEDULES").html(data.part_four.kayak_schedules)
      $(".KAYAK_SINGLE").html(data.part_four.kayak_single+' '+data.part_four.kayak_single_price)
      $(".KAYAK_DOUBLE").html(data.part_four.kayak_double+' '+data.part_four.kayak_double_price)
      $(".PADDLE").html(data.part_four.paddle+' '+data.part_four.paddle_price)

      $(".HORARIO_TXT").html(data.part_five.schedule_txt)
      $(".HORARIO_TEMPO1").html(data.part_five.schedule_summer)
      $(".HORARIO_TEMPO_TXT1").html(data.part_five.schedule_summer_txt)
      $(".HORARIO_TEMPO2").html(data.part_five.schedule_winter)
      $(".HORARIO_TEMPO_TXT2").html(data.part_five.schedule_winter_txt)
      $(".CONTATOS_TXT").html(data.part_six.contact_txt)

      $(".NAME").attr("placeholder",data.part_seven.name).text(data.part_seven.name)
      $(".ADDRESS").attr("placeholder",data.part_seven.address).text(data.part_seven.address)
      $(".ADULT").attr("placeholder",data.part_seven.adult).text(data.part_seven.adult)
      $(".CHILDREN").attr("placeholder",data.part_seven.children).text(data.part_seven.children)
      $(".BABY").attr("placeholder",data.part_seven.baby).text(data.part_seven.baby)
      $(".DATE").attr("placeholder",data.part_seven.date).text(data.part_seven.date)
      $(".MESSAGE").attr("placeholder",data.part_seven.message)
      $(".EMAIL").attr("placeholder",data.part_seven.email).text(data.part_seven.email)
      $(".TELEPHONE").attr("placeholder",data.part_seven.telephone).text(data.part_seven.telephone)
      $(".SUBMIT").text(data.part_seven.submit)
      $(".HOUR_TXT0, .HOUR_TXT, .HOUR").text(data.part_seven.hour)
      $(".TOUR").html(data.part_seven.tour)
      $(".RGPD").text(data.part_seven.rgpd)
      $(".RGPD_TXT").html(data.part_seven.rgpd_txt)
      $(".BOOKING").text(data.part_seven.booking)
      $(".SPAM_TXT").text(data.part_seven.spam_txt)
      $(".BOOK_EMAIL").text(data.part_seven.book_email)
      $(".BOOK_PHONE").text(data.part_seven.book_phone)
      $(".BOOK_AFTER").text(data.part_seven.book_after)
      $(".EMAIL_INVALID").text(data.part_seven.email_invalid)
      $(".ZERO").text(data.part_seven.zero)
      $(".OTHER_BUY_IT").text(data.part_seven.other_buy_it)
      $(".GET_AVAILABLE").text(data.part_seven.get_available)

      $(".NO_WEB_STORAGE").text(data.info.no_webstorage)
      $(".CREDIT_CARD_NR").attr("placeholder",data.info.credit_card_nr).text(data.info.credit_card_nr)
      $(".CREDIT_CARD_NAME").attr("placeholder",data.info.name_credit_card).text(data.info.name_credit_card)
      $(".CREDIT_CARD_DATE").attr("placeholder",data.info.date_credit_card).text(data.info.date_credit_card)
      $(".TOUR_DATA").text(data.info.tour_data)
      $(".PERSONAL_DATA").text(data.info.personal_data)
      $(".CREDIT_CARD_DATA").text(data.info.credit_card_data)
      $(".WP_SET_NO_CC_DATA").text(data.info.wp_set_no_cc_data)
      $(".DOUBTS").text(data.info.doubts)
      $(".HOME").text(data.info.home)
      $(".USEFULL_INFO").text(data.info.usefull_info)
      $(".GALLERY").text(data.info.gallery)

      $(".CONFIRM").text(data.info.confirm)

      $(".FILL_ALL").text(data.info.fill_all)

      $(".CVV_INVALID").text(data.part_seven.cvv_invalid)
      $(".NO_MATCH_NAMES").text(data.part_seven.no_match_names)
      $(".CARD_NR_INVALID").text(data.part_seven.card_nr_invalid)
      $(".TELEPHONE_INVALID").text(data.part_seven.telephone_invalid)
      $(".NAME_INVALID").text(data.part_seven.name_invalid)
      $(".DATE_CARD_INVALID").text(data.info.date_card_invalid)

      $(".BUY_NOW").text(data.info.buy_now)
      $(".DATE_HOUR").text(data.info.choose_date_hour)
      $(".CHOOSE_DATE_CALENDAR").attr("placeholder",data.info.choose_date_calendar)
      $(".CHOOSE_HOUR").text(data.info.choose_hour)

      $(".CLOSE").text(data.info.close)
      $(".SAVE").text(data.info.save)
      $(".ERROR").text(data.error)
      $(".WIFIERROR").text(data.wifi_error)
      $(".SUCCESS").text(data.success)
      $(".ORDER").text(data.order)
      $(".THANKYOU").text(data.thank_you)
      
      $(".MESSAGE_TXT").text(data.part_seven.message)
      $(".NO_STOCK").text(data.part_seven.no_stock)
      $(".SORRY").text(data.part_seven.sorry)

      $(".ARBITRARY").html(data.arbitrary.txt)
      $(".ARBITRARY_CENTER").text(data.arbitrary.name)
      $(".REQUIRED").text(data.required)

      $(".SESSION").text(data.session)
      $(".CHECK").text(data.check)
      $(".SESSION_INFO").text(data.session_info)

      $(".cc-dismiss").text(data.cookies.btn)
      $(".cc-message").html(data.cookies.txt+'<br><a class="cc-link" target="_blank" href="https://cookiesandyou.com/">'+data.cookies.link+'</a>')
      $('.current-locale').val(local)
      switch (local){
       case 'pt_PT':
          $('.EN').addClass('w3-hide')
          $('.PT').removeClass('w3-hide')
        break
        case 'en_EN':
          $('.PT').addClass('w3-hide')
          $('.EN').removeClass('w3-hide')
        break
      }
      setTimeout(function(){
        w3_close()
        $("#myOverlay, #loader-cont").hide()
      }, 250)
    },

    error:function(data){
      setTimeout(function(){
        w3_close()
        $("#myOverlay, #loader-cont").hide()
      }, 250)
    }
  })
}

mySidenav = document.getElementById("mySidenav")
overlayBg = document.getElementById("myOverlay")
loader = document.getElementById("loader-cont")

count = 0

function w3_open() {
    if (mySidenav.style.display === "block") {
        mySidenav.style.display = "none"
         overlayBg.style.display = "none"
         loader.style.display = "none"
    } else {
        mySidenav.style.display = "block"
         overlayBg.style.display = "block"
         loader.style.display = "none"
    }
}

function w3_close() {
    mySidenav.style.display = "none"
    overlayBg.style.display = "none"
}


window.onscroll = function() {myFunction()}
function myFunction() {
    var topo = document.getElementById("bt-top")
    document.body.scrollTop > 4000 || document.documentElement.scrollTop > 4000 ?
    topo.className = "top w3-animate-zoom w3-hide-small" : 
    topo.className = topo.className.replace("top w3-animate-zoom w3-hide-small", "top w3-hide w3-hide-small")
}

function onClick(element) {
  document.getElementById("img01").src = element.src
  document.getElementById("modal01").style.display = "block"
  var captionText = document.getElementById("caption")
  captionText.innerHTML = element.alt
}


function navigation(pos,id){
  w3_close()
  vl=45
  $(".nav-space").val() ? vl = vl + parseInt($(".nav-space").val()) : vl
  $("html, body").animate({
    scrollTop: $(pos).offset().top -vl
  }, 750)
  if (id)
    $('select[name=category]').val(id)
  }


function myMap() {
    
  var myCenter = new google.maps.LatLng({{company.CoordsGoogleMaps}})
  var mapCanvas = document.getElementById("map")
  var mapOptions = {
    center: myCenter,
    scrollwheel: false,
    draggable: false,    
    zoom: 13,
    panControl: true,
    zoomControl: true,
    mapTypeControl: false,
    scaleControl: false,
    streetViewControl: false,
    overviewMapControl: false,
    rotateControl: false,
  }

  var map = new google.maps.Map(mapCanvas, mapOptions)

  var marker = new google.maps.Marker({position:myCenter})

  marker.setMap(map)

google.maps.event.addListener(marker,"click",function() {
  map.setZoom(17)
  map.setCenter(marker.getPosition())
  })
  var infowindow = new google.maps.InfoWindow({
    content: "Taruga Tours"
  })
  infowindow.open(map,marker)
}


typeof(Storage) !== "undefined" ? false : setTimeout(function(){$('#modal-no-storage').show();},1500)
'{{ id }}' != '#home' ?  setTimeout(function(){navigation('{{id}}');},1000) : false
</script>
<script src="https://maps.googleapis.com/maps/api/js?key={{company.GoogleMapsApiKey}}&callback=myMap"></script>